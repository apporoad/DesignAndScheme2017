
## 总体需求
    1、兼容IE8以上的主流浏览器
    2、客户端运行效率高、无内存泄漏问题
    3、开发简单、坑少（智能提示、傻瓜使用方式）
    4、模块化设计、可单独使用、高聚合低耦合
    5、保持充分的扩展性

## 设计考虑
    1、控件封装（所有apollo先用的、键盘操作、验证等）
    2、layout封装（菜单、tab页、弹出框、提示框）
    3、界面间操作封装（页面查找、tab页查找、母页、收缩隐藏、查找等）
    4、公共帮助类封装（utilies、用户信息、ajax、加密封装、cookie、日志、token等）
    5、权限封装
    6、开发帮助类封装（提示、开发区域定义等）
    7、界面样式调整



## 讨论结果
一、easyui使用1.5.2版本，jquery使用1.11.3版本 (国信采用1.5.1和1.11)
二、控件封装（所有apollo现用的控件、键盘操作、验证等）
     1、控件初始化采用两种方式，第一：框架提供一套全部控件的初始化，第二：自己可以自定义控件的初始化使用easyui的初始化方法，替换框架的初始化 
     2、页面js脚本放在页面底部
     3、控件的自定义属性（只读、启用禁用、验证、数据源url等放在统一的配置对象中）
     4、每个页面使用一个页面级的配置js（配置页面id、是否回车跳下一个控件、点击tab是否刷新等配置项）
     5、封装通用的取值方法 getValue 和 setValue
   (详见demo)
    6、要封装的控件： 按钮，文本框,数字控件,日期控件,Tab控件，表格控件，查询控件，checkbox控件，下拉控件，下拉多选控件，输入自动匹配控件，输入自动匹配下拉控件，上传控件，验证控件
    7、控件提供扩展接口
       8、比较class和id的查找效率
三、layout封装（菜单、tab页、弹出框、提示框,询问框，提示信息自动隐藏）
       1、提示信息可以延迟几秒后自动隐藏，不需要确认
       2、弹出框的回掉函数实现
       3、菜单过多不要使用滚动条出现所有的菜单。菜单底部显示“更多”菜单，点击更多在内容页显示所有的菜单，可添加常用菜单并可自定义菜单的显示顺序。
       4、tab页面需要高效加载，内存稳定不溢出
       5、前端模板页面概念
       6、对于块级元素（如toolbar，search，grid），让开发人员使用简单
四、界面间操作封装（页面查找、tab页查找、父页、收缩隐藏、查找等）
    1、当前tab可以触发其他tab页面的查询事件，封装可以快速找到到其他tab中的元素
       2、前端页面布局需要简洁，html结构清晰简单
五、公共帮助类封装（utilies、用户信息、ajax、加密封装、cookie、日志、token等）
    1、前端在调用后台接口时，尤其在跨域情况下需要有一套加解密方法，对敏感数据进行加解密
       2、前端可以存储用户的个人信息，不需要使用的时候每次都请求一下用户信息
       3、日志，token等再详细讨论
六、权限封装
        1、权限再详细讨论
七、开发帮助类封装（提示、开发区域定义等）
       1、定义开发人员编码规范
       2、定义开发编码位置
       3、框架提供的函数可智能提示并拥有中文描述




## 最终总体封装方案
    1、框架选型，采用easyUI + jquery实现 (主要考虑IE8 下 兼顾性能)
        为什么不选用vue react ext dojo（可以简略）
    2、开发易用性：
         1、规范性前端代码模板，快速上手实现业务功能（规范编码区域和调用方法）
         2、去文档的框架使用（近0学习成本的框架使用），代码模板及封装方法使用不需要查询文档就能快速使用框架方法
                （1）所有封装均需要对方法、方法参数、方法使用做中文详细描述
                （2）伪智能的提示，开发时能快速定位到需要调用的方法，并autocomplete
         3、透明的功能集成，开发人员无需关心一些通用的处理细节
                （1）配置式约定式的通用功能使用（如：键盘操作元素快速跳转、元素收缩）
                （2）轻量级的隐性封装： 如用户行为记录、数据日志、传输数据加密等等
    3、兼容性和性能方面：
        1、层级隔离，业务代码与底层框架代码做简单隔离，方便扩展的同时，编译底层组件产品以后升级
        2、自动降级，考虑在不同浏览器下的兼容性，在不同浏览器下封装的组件及功能采用不同的降级技术
        3、简单封装，所有的代码封装避免各种耦合和复杂设计，总体保持简单性，以方便对性能和兼容性的扩展要求
    4、扩展性方面
        1、去OO， 框架内部封装可以采用OO设计，但对于扩展接口放弃这种设计方式，采用最简单的方法模式
        2、简单层次，框架考虑简单设计，放弃复杂的层次管理，方便扩展
        3、模块化
    5、安全方面
        使用算法及后端加密辅助方式
    6、功能封装
        1、控件封装
            初始化，页面内控件自动识别，自动初始化为捷通控件
            自定义属性，每个控件使用捷通的统一自定义属性定义该控件为捷通控件
            每个控件都使拥有扩展接口，可以对控件进行功能扩展
        2、多套主题设计
            由美工设计多套样式主题，选择展现不同的主题，系统的布局，颜色，控件样式可以相应变化
        3、布局封装
            弹出框，弹出框拥有回掉函数，可以在一些关键操作点，比如（打开弹窗前，打开弹窗后，关闭弹窗后）执行自定义事件
            提示框，提示框可以延迟自动隐藏，不需要手动去关闭
        4、utility封装
        5、其他
            统一配置，在同一地方维护所有控件的配置信息，比如只读，启用禁用，验证规则，数据源url等
            页面配置，在同一地方维护所有页面的配置信息，比如页面的id，点击tab是否刷新，控件回车跳转下一个控件等
            统一赋值取值，所有空间的取值赋值方法都使用捷通封装的统一取值赋值方法。所有控件取值赋值方法语法一致
            跨页面处理，快速查找其他tab页面下的元素，对象，方法，
            跨页面执行，其他页面的事件，刷新表格控件，修改元素样式，更改表单值等等
            加解密，调用ajax，访问api接口，参数传递，数据回传等都进行数据加密，防止敏感数据别第三方获取
            用户对象封装，前台存储登录者用户信息，开发时可以快速访问所需要的用户信息
            